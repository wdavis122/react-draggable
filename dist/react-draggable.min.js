!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory(require("React")):"function"==typeof define&&define.amd?define(["React"],factory):"object"==typeof exports?exports.ReactDraggable=factory(require("React")):root.ReactDraggable=factory(root.React)}(this,function(__WEBPACK_EXTERNAL_MODULE_2__){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)},function(module,exports,__webpack_require__){"use strict";function createUIEvent(draggable){var state=draggable._pendingState||draggable.state;return{node:draggable.getDOMNode(),position:{top:state.clientY,left:state.clientX}}}function canDragY(draggable){return"both"===draggable.props.axis||"y"===draggable.props.axis}function canDragX(draggable){return"both"===draggable.props.axis||"x"===draggable.props.axis}function isFunction(func){return"function"==typeof func||"[object Function]"===Object.prototype.toString.call(func)}function findInArray(array,callback){for(var i=0,length=array.length;length>i;i++)if(callback.apply(callback,[array[i],i,array]))return array[i]}function matchesSelector(el,selector){var method=findInArray(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(method){return isFunction(el[method])});return el[method].call(el,selector)}function getControlPosition(e){var position=e.touches&&e.touches[0]||e;return{clientX:position.clientX,clientY:position.clientY}}function addEvent(el,event,handler){el&&(el.attachEvent?el.attachEvent("on"+event,handler):el.addEventListener?el.addEventListener(event,handler,!0):el["on"+event]=handler)}function removeEvent(el,event,handler){el&&(el.detachEvent?el.detachEvent("on"+event,handler):el.removeEventListener?el.removeEventListener(event,handler,!0):el["on"+event]=null)}function outerHeight(node){var height=node.clientHeight,computedStyle=window.getComputedStyle(node);return height+=int(computedStyle.borderTopWidth),height+=int(computedStyle.borderBottomWidth)}function outerWidth(node){var width=node.clientWidth,computedStyle=window.getComputedStyle(node);return width+=int(computedStyle.borderLeftWidth),width+=int(computedStyle.borderRightWidth)}function innerHeight(node){var height=node.clientHeight,computedStyle=window.getComputedStyle(node);return height-=int(computedStyle.paddingTop),height-=int(computedStyle.paddingBottom)}function innerWidth(node){var width=node.clientWidth,computedStyle=window.getComputedStyle(node);return width-=int(computedStyle.paddingLeft),width-=int(computedStyle.paddingRight)}function isNum(num){return"number"==typeof num&&!isNaN(num)}function int(a){return parseInt(a,10)}function getBoundPosition(draggable,clientX,clientY){var bounds=JSON.parse(JSON.stringify(draggable.props.bounds)),node=draggable.getDOMNode(),parent=node.parentNode;if("parent"===bounds){var nodeStyle=window.getComputedStyle(node),parentStyle=window.getComputedStyle(parent);bounds={left:-node.offsetLeft+int(parentStyle.paddingLeft)+int(nodeStyle.borderLeftWidth)+int(nodeStyle.marginLeft),top:-node.offsetTop+int(parentStyle.paddingTop)+int(nodeStyle.borderTopWidth)+int(nodeStyle.marginTop),right:innerWidth(parent)-outerWidth(node)-node.offsetLeft,bottom:innerHeight(parent)-outerHeight(node)-node.offsetTop}}return isNum(bounds.right)&&(clientX=Math.min(clientX,bounds.right)),isNum(bounds.bottom)&&(clientY=Math.min(clientY,bounds.bottom)),isNum(bounds.left)&&(clientX=Math.max(clientX,bounds.left)),isNum(bounds.top)&&(clientY=Math.max(clientY,bounds.top)),[clientX,clientY]}function snapToGrid(grid,pendingX,pendingY){var x=Math.round(pendingX/grid[0])*grid[0],y=Math.round(pendingY/grid[1])*grid[1];return[x,y]}function addUserSelectStyles(draggable){if(draggable.props.enableUserSelectHack){var style=document.body.getAttribute("style")||"";document.body.setAttribute("style",style+userSelectStyle)}}function removeUserSelectStyles(draggable){if(draggable.props.enableUserSelectHack){var style=document.body.getAttribute("style")||"";document.body.setAttribute("style",style.replace(userSelectStyle,""))}}function createCSSTransform(style){var x=style.x+"px",y=style.y+"px";return{transform:"translate("+x+","+y+")",WebkitTransform:"translate("+x+","+y+")",OTransform:"translate("+x+","+y+")",msTransform:"translate("+x+","+y+")",MozTransform:"translate("+x+","+y+")"}}var React=__webpack_require__(2),emptyFunction=function(){},assign=__webpack_require__(3),classNames=__webpack_require__(4);if("undefined"==typeof window)var isTouchDevice=!1;else var isTouchDevice="ontouchstart"in window||"onmsgesturechange"in window;var dragEventFor=function(){var eventsFor={touch:{start:"touchstart",move:"touchmove",end:"touchend"},mouse:{start:"mousedown",move:"mousemove",end:"mouseup"}};return eventsFor[isTouchDevice?"touch":"mouse"]}(),userSelectStyle=";user-select: none;-webkit-user-select:none;-moz-user-select:none;-o-user-select:none;-ms-user-select:none;";module.exports=React.createClass({displayName:"Draggable",propTypes:{axis:React.PropTypes.oneOf(["both","x","y"]),bounds:React.PropTypes.oneOfType([React.PropTypes.shape({left:React.PropTypes.Number,right:React.PropTypes.Number,top:React.PropTypes.Number,bottom:React.PropTypes.Number}),React.PropTypes.oneOf(["parent",!1])]),enableUserSelectHack:React.PropTypes.bool,handle:React.PropTypes.string,cancel:React.PropTypes.string,grid:React.PropTypes.arrayOf(React.PropTypes.number),start:React.PropTypes.shape({x:React.PropTypes.number,y:React.PropTypes.number}),moveOnStartChange:React.PropTypes.bool,zIndex:React.PropTypes.number,onStart:React.PropTypes.func,onDrag:React.PropTypes.func,onStop:React.PropTypes.func,onMouseDown:React.PropTypes.func},componentWillReceiveProps:function(newProps){newProps.moveOnStartChange&&newProps.start&&this.setState(this.getInitialState(newProps))},componentWillUnmount:function(){removeEvent(window,dragEventFor.move,this.handleDrag),removeEvent(window,dragEventFor.end,this.handleDragEnd),removeUserSelectStyles(this)},getDefaultProps:function(){return{axis:"both",bounds:!1,handle:null,cancel:null,grid:null,moveOnStartChange:!1,start:{x:0,y:0},zIndex:0/0,enableUserSelectHack:!0,onStart:emptyFunction,onDrag:emptyFunction,onStop:emptyFunction,onMouseDown:emptyFunction}},getInitialState:function(props){return props=props||this.props,{dragging:!1,offsetX:0,offsetY:0,clientX:props.start.x,clientY:props.start.y}},handleDragStart:function(e){if(this.props.onMouseDown(e),!(this.props.handle&&!matchesSelector(e.target,this.props.handle)||this.props.cancel&&matchesSelector(e.target,this.props.cancel))){var shouldStart=this.props.onStart(e,createUIEvent(this));if(shouldStart!==!1){var dragPoint=getControlPosition(e);addUserSelectStyles(this),this.setState({dragging:!0,offsetX:dragPoint.clientX-this.state.clientX,offsetY:dragPoint.clientY-this.state.clientY}),addEvent(window,dragEventFor.move,this.handleDrag),addEvent(window,dragEventFor.end,this.handleDragEnd)}}},handleDragEnd:function(e){this.state.dragging&&(removeUserSelectStyles(this),this.setState({dragging:!1}),this.props.onStop(e,createUIEvent(this)),removeEvent(window,dragEventFor.move,this.handleDrag),removeEvent(window,dragEventFor.end,this.handleDragEnd))},handleDrag:function(e){var dragPoint=getControlPosition(e),clientX=dragPoint.clientX-this.state.offsetX,clientY=dragPoint.clientY-this.state.offsetY;if(Array.isArray(this.props.grid)){var coords=snapToGrid(this.props.grid,clientX,clientY);clientX=coords[0],clientY=coords[1]}if(this.props.bounds){var pos=getBoundPosition(this,clientX,clientY);clientX=pos[0],clientY=pos[1]}var shouldUpdate=this.props.onDrag(e,createUIEvent(this));return shouldUpdate===!1?this.handleDragEnd():void this.setState({clientX:clientX,clientY:clientY})},render:function(){var childStyle=this.props.children.props.style||{},transform=createCSSTransform({x:canDragX(this)?this.state.clientX:0,y:canDragY(this)?this.state.clientY:0}),style=assign({},childStyle,transform);this.state.dragging&&!isNaN(this.props.zIndex)&&(style.zIndex=this.props.zIndex);var className=classNames(this.props.children.props.className||"","react-draggable",{"react-draggable-dragging":this.state.dragging,"react-draggable-dragged":this.state.dragged});return React.cloneElement(React.Children.only(this.props.children),{style:style,className:className,onMouseDown:this.handleDragStart,onTouchStart:function(ev){return ev.preventDefault(),this.handleDragStart.apply(this,arguments)}.bind(this),onMouseUp:this.handleDragEnd,onTouchEnd:this.handleDragEnd})}})},function(module,exports,__webpack_require__){module.exports=__WEBPACK_EXTERNAL_MODULE_2__},function(module,exports,__webpack_require__){"use strict";function ToObject(val){if(null==val)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(val)}module.exports=Object.assign||function(target,source){for(var from,keys,to=ToObject(target),s=1;s<arguments.length;s++){from=arguments[s],keys=Object.keys(Object(from));for(var i=0;i<keys.length;i++)to[keys[i]]=from[keys[i]]}return to}},function(module,exports,__webpack_require__){function classNames(){for(var arg,classes="",i=0;i<arguments.length;i++)if(arg=arguments[i])if("string"==typeof arg||"number"==typeof arg)classes+=" "+arg;else if("[object Array]"===Object.prototype.toString.call(arg))classes+=" "+classNames.apply(null,arg);else if("object"==typeof arg)for(var key in arg)arg.hasOwnProperty(key)&&arg[key]&&(classes+=" "+key);return classes.substr(1)}var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof module&&module.exports&&(module.exports=classNames),__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}])});
//# sourceMappingURL=react-draggable.min.map